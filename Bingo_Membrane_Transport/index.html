<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membrane Transport Bingo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .bingoTable {
            border-collapse: collapse;
            margin: 20px auto;
        }

        .bingoTable td {
            border: 1px solid #000;
            padding: 0;
            text-align: center;
            width: 200px;
            height: 150px;
            vertical-align: middle;
            position: relative;
            overflow: hidden;
        }

        .flip-container {
            perspective: 1000px;
        }

        .flipper {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flip-container.flip .flipper {
            transform: rotateY(180deg);
        }

        .front,
        .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }

        .back {
            transform: rotateY(180deg);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .content-image {
            max-width: 100%;
            max-height: 100%;
            display: block;
            margin: 0 auto;
        }

        .content-video {
            width: 100%;
            height: 100%;
        }

        #bingoContainer {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        .bingoTable {
            margin: 10px;
        }

        #modeButtons {
            text-align: center;
            margin-bottom: 20px;
        }

        .modeButton {
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
            border: none;
            background-color: gray;
            color: white;
        }

        .modeButton.selected {
            background-color: blue;
        }

        #soloToggle {
            display: inline-flex;
            border: 2px solid #000;
            border-radius: 25px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        #soloToggle span {
            padding: 10px 20px;
            color: white;
        }

        #soloTerms {
            background-color: gray;
        }

        #soloDefinitions {
            background-color: gray;
        }

        #soloToggle.selected-left #soloTerms {
            background-color: blue;
        }

        #soloToggle.selected-right #soloDefinitions {
            background-color: blue;
        }

        #message {
            text-align: center;
            font-size: 16px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <h1 style="text-align: center;">Membrane Transport Bingo</h1>
    <div id="modeButtons">
        <button id="basicButton" class="modeButton selected">Basic</button>
        <button id="challengeButton" class="modeButton">Challenge</button>
        <div id="soloToggle" class="modeButton">
            <span id="soloTerms">Solo - Terms</span>
            <span id="soloDefinitions">Solo - Definitions</span>
        </div>
    </div>
    <div id="message">Click each cell to show its answer.</div>
    <div id="bingoContainer"></div>

    <script>
        const terms = [
            { term: "Diffusion", definition: "The movement of particles from an area of high concentration to low concentration.", media: "" },
            { term: "Osmosis", definition: "The diffusion of water through a selectively permeable membrane.", media: "https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/osmosis.mp4" },
            { term: "Active Transport", definition: "The movement of molecules across a membrane via energy input.", media: "" },
            { term: "Facilitated Diffusion", definition: "The process of passive transport through protein channels.", media: "https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/selective_permeability.mp4" },
            { term: "Endocytosis", definition: "The process by which cells engulf large particles.", media: "https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/endocytosis.mp4" },
            { term: "Phagocytosis", definition: "A type of endocytosis where cells ingest large particles.", media: "" },
            { term: "Channel Protein", definition: "A protein that allows the transport of specific substances across a membrane.", media: "" },
            { term: "Carrier Protein", definition: "A protein that transports specific molecules across cell membranes.", media: "" },
            { term: "Cell Membrane", definition: "A biological membrane that separates the interior of cells from the outside environment.", media: "https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/cell_membrane.png" },
            { term: "Vesicle Transport", definition: "The movement of materials within or between cells via vesicles.", media: "" },
            { term: "Aquaporin", definition: "A water channel protein that allows the movement of water molecules across the membrane.", media: "" },
            { term: "ATP", definition: "A molecule that carries energy within cells.", media: "https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/atp.png" },
            { term: "Passive Transport", definition: "The movement of substances across a membrane without energy input.", media: "" },
            { term: "Concentration Gradient", definition: "The gradual difference in concentration of a substance in a solution.", media: "https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/concentration_gradient.png" },
            { term: "Selective Permeability", definition: "The property of a membrane that allows some substances to pass through while others cannot.", media: "https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/selective_permeability.mp4" },
        ];

        const shuffle = (array) => {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        };

        const createBoard = (mode) => {
            const container = document.getElementById("bingoContainer");
            container.innerHTML = "";
            const table = document.createElement("table");
            table.className = "bingoTable";

            let cellsUsed = [];
            shuffle(terms);

            for (let i = 0; i < 5; i++) {
                const row = table.insertRow();
                for (let j = 0; j < 5; j++) {
                    const cell = row.insertCell();
                    const flipContainer = document.createElement("div");
                    flipContainer.className = "flip-container";
                    flipContainer.innerHTML = `
                        <div class="flipper">
                            <div class="front"></div>
                            <div class="back"></div>
                        </div>
                    `;
                    const front = flipContainer.querySelector(".front");
                    const back = flipContainer.querySelector(".back");

                    let termData;
                    if (cellsUsed.length < terms.length) {
                        termData = terms[cellsUsed.length];
                        cellsUsed.push(termData);
                    } else {
                        termData = cellsUsed[Math.floor(Math.random() * cellsUsed.length)];
                    }

                    if (mode === "Terms") {
                        front.textContent = termData.term;
                        back.textContent = termData.definition;
                    } else {
                        front.textContent = termData.definition;
                        back.textContent = termData.term;
                    }

                    if (termData.media) {
                        const mediaType = termData.media.endsWith(".mp4") ? "video" : "image";
                        const mediaElement = mediaType === "video" ? document.createElement("video") : document.createElement("img");

                        mediaElement.src = termData.media;
                        if (mediaType === "video") {
                            mediaElement.autoplay = true;
                            mediaElement.loop = true;
                            mediaElement.muted = true;
                            mediaElement.className = "content-video";
                        } else {
                            mediaElement.className = "content-image";
                        }

                        if (Math.random() > 0.5) {
                            front.textContent = "";
                            front.appendChild(mediaElement);
                        } else {
                            back.textContent = "";
                            back.appendChild(mediaElement);
                        }
                    }

                    cell.appendChild(flipContainer);
                    cell.addEventListener("click", () => {
                        flipContainer.classList.toggle("flip");
                    });
                }
            }

            container.appendChild(table);
        };

        const setMode = (mode) => {
            document.getElementById("message").style.display = mode === "Solo" ? "block" : "none";
            createBoard(mode === "Solo" ? "Terms" : "Definitions");
        };

        document.getElementById("basicButton").addEventListener("click", () => setMode("Basic"));
        document.getElementById("challengeButton").addEventListener("click", () => setMode("Challenge"));
        document.getElementById("soloToggle").addEventListener("click", (e) => {
            const toggle = e.currentTarget;
            if (toggle.classList.contains("selected-left")) {
                toggle.classList.remove("selected-left");
                toggle.classList.add("selected-right");
                setMode("Solo Definitions");
            } else {
                toggle.classList.remove("selected-right");
                toggle.classList.add("selected-left");
                setMode("Solo Terms");
            }
        });

        // Initial load
        setMode("Basic");
    </script>
</body>

</html>
