<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membrane Transport Bingo</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 0; }
        .bingoTable { border-collapse: collapse; margin: 20px auto; }
        .bingoTable td { border: 1px solid #000; text-align: center; width: 150px; height: 150px; cursor: pointer; position: relative; perspective: 1000px; }
        .flip-container { perspective: 1000px; }
        .flip-card { transform-style: preserve-3d; transition: transform 0.6s; width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
        .flipped { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; padding: 10px; box-sizing: border-box; }
        .flip-card-back { transform: rotateY(180deg); }
        #bingoContainer { display: flex; justify-content: center; margin-top: 20px; }
        #modeButtons { text-align: center; margin-bottom: 20px; }
        .modeButton { padding: 10px 20px; margin: 0 10px; cursor: pointer; border: none; background-color: gray; color: white; }
        .selected { background-color: blue; color: white; }
        .instruction { font-size: 16px; margin-top: 10px; }
        .marked { background-color: yellow; }
    </style>
</head>
<body>
    <h1>Membrane Transport Bingo</h1>
    <div id="modeButtons">
        <button id="basicButton" class="modeButton selected">Basic</button>
        <button id="challengeButton" class="modeButton">Challenge</button>
        <button id="soloTermsButton" class="modeButton">Solo - Terms</button>
        <button id="soloDefinitionsButton" class="modeButton">Solo - Definitions</button>
    </div>
    <div id="instructionMessage" class="instruction" style="display: none;">Click each cell to show its answer.</div>
    <div id="bingoContainer"></div>
    <script>
        const terms = [
            "Diffusion", "Facilitated Diffusion", "Active Transport", "Endocytosis", "Exocytosis", 
            "Channel Protein", "Carrier Protein", "ATP", "Phospholipid Bilayer", "Pinocytosis", "Passive Transport", 
            "Energy Requirement", "Concentration Gradient", "Equilibrium", "Selective Permeability", 
            "Aquaporin", "Phagocytosis", "Vesicle Transport", "Osmosis"
        ];

        const termMedia = {
            "Osmosis": "<video src='https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/Osmosis.mp4' style='width: 100%; height: 100%; object-fit: cover;' autoplay loop muted></video>",
            "Phospholipid Bilayer": "<img src='https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/Phospholipid%20Bilayer.png' style='width: 100%; height: 100%; object-fit: cover;' />",
            "ATP": "<img src='https://joelafort.github.io/BioAnimations/Bingo_Membrane_Transport/ATP.png' style='width: 100%; height: 100%; object-fit: cover;' />",
            // Add more media entries as needed...
        };

        const termDefinitions = {
            "Diffusion": "The movement of particles from an area of high concentration to low concentration.",
            "Facilitated Diffusion": "The movement of molecules across a membrane via transport proteins.",
            "Active Transport": "The movement of substances against their concentration gradient, requiring energy.",
            "Endocytosis": "The process by which cells engulf substances from the outside.",
            "Exocytosis": "The process by which cells expel materials in vesicles.",
            // Add more definitions as needed...
        };

        let mode = 'Basic';

        const shuffle = (array) => {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        };

        const generateUniqueBoard = (id, displayMode = "terms") => {
            const table = document.getElementById(id);
            const cells = Array.from(table.getElementsByTagName('td'));
            shuffle(terms);

            cells.forEach((cell, index) => {
                const term = terms[index % terms.length];
                cell.innerHTML = ""; // Clear the cell content

                if (mode === 'Solo - Terms' || mode === 'Solo - Definitions') {
                    const frontContent = document.createElement('div');
                    frontContent.className = 'flip-card-front flip-card';
                    const backContent = document.createElement('div');
                    backContent.className = 'flip-card-back flip-card';

                    if (displayMode === 'terms') {
                        frontContent.innerHTML = termMedia[term] ? termMedia[term] : term;
                        backContent.textContent = termDefinitions[term];
                    } else {
                        frontContent.textContent = termDefinitions[term];
                        backContent.innerHTML = termMedia[term] ? termMedia[term] : term;
                    }

                    cell.appendChild(frontContent);
                    cell.appendChild(backContent);

                    // Add flip functionality on click
                    cell.onclick = () => {
                        cell.classList.toggle('flipped');
                    };
                } else {
                    // For Basic and Challenge modes, keep the standard display
                    if (termMedia[term]) {
                        cell.innerHTML = termMedia[term];
                    } else {
                        cell.textContent = term;
                    }

                    cell.classList.remove("flipped");

                    // Handle marking cells
                    cell.onclick = () => {
                        if (!cell.classList.contains('marked')) {
                            cell.classList.add('marked');
                            cell.style.backgroundColor = "yellow";
                        } else {
                            cell.classList.remove('marked');
                            cell.style.backgroundColor = "";
                        }
                    };
                }
            });
        };

        const createTable = (id) => {
            const table = document.createElement('table');
            table.id = id;
            table.className = 'bingoTable';

            for (let i = 0; i < 5; i++) {
                const row = table.insertRow();
                for (let j = 0; j < 5; j++) {
                    const cell = row.insertCell();
                    cell.className = 'bingo-cell flip-card';
                    cell.style.width = "150px";
                    cell.style.height = "150px";
                }
            }
            return table;
        };

        const setMode = (newMode) => {
            mode = newMode;
            const container = document.getElementById('bingoContainer');
            container.innerHTML = '';

            document.getElementById('basicButton').classList.remove('selected');
            document.getElementById('challengeButton').classList.remove('selected');
            document.getElementById('soloTermsButton').classList.remove('selected');
            document.getElementById('soloDefinitionsButton').classList.remove('selected');

            document.getElementById(newMode.toLowerCase().replace(' ', '') + 'Button').classList.add('selected');

            if (newMode === 'Basic') {
                document.getElementById('instructionMessage').style.display = 'none';
                container.appendChild(createTable('bingoTable'));
                generateUniqueBoard('bingoTable');
            } else if (newMode === 'Challenge') {
                document.getElementById('instructionMessage').style.display = 'none';
                container.style.display = 'grid';
                container.style.gridTemplateColumns = '1fr 1fr';
                const board1 = createTable('bingoTable1');
                const board2 = createTable('bingoTable2');
                container.appendChild(board1);
                container.appendChild(board2);
                generateUniqueBoard('bingoTable1');
                generateUniqueBoard('bingoTable2');
            } else if (newMode === 'Solo - Terms' || newMode === 'Solo - Definitions') {
                document.getElementById('instructionMessage').style.display = 'block';
                container.style.display = 'block';
                container.appendChild(createTable('bingoTableSolo'));
                generateUniqueBoard('bingoTableSolo', newMode === 'Solo - Terms' ? 'terms' : 'definitions');
            }
        };

        document.getElementById('basicButton').addEventListener('click', () => setMode('Basic'));
        document.getElementById('challengeButton').addEventListener('click', () => setMode('Challenge'));
        document.getElementById('soloTermsButton').addEventListener('click', () => setMode('Solo - Terms'));
        document.getElementById('soloDefinitionsButton').addEventListener('click', () => setMode('Solo - Definitions'));

        setMode('Basic');
    </script>
</body>
</html>
